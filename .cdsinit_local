/* 
File Name:    :    .cdsinit_local
Author        :    austriamicrosystems Design Support
Date          :    11-Dec-1996
Version:      :    1.0 (for analog artist) for HIT Kit 3.xx
Include Files :    none

Owner: austriamicrosystems
HIT-Kit: Digital

----------------------------------------------------------------------
date     | who | description
----------------------------------------------------------------------
11-12-96  DPA   Library customisation removed - now in cds.lib file
----------------------------------------------------------------------
17-03-19  LBL   ADDED CALIBRE LOAD UI SCRIPT
----------------------------------------------------------------------
*/

if( !CDS_QUIET then printf("LOAD LOCAL CUSTOMIZATION.\n"))

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;
; check CALIBRE_HOME
;
cal_home=getShellEnvVar("CALIBRE_HOME")
if( cal_home==nil then
    cal_home=getShellEnvVar("MGC_HOME")
    if( cal_home!=nil then
        printf("// CALIBRE_HOME environment variable not set; setting it to value of MGC_HOME\n");
    )
)

if( cal_home!=nil && isDir(cal_home) && isReadable(cal_home) then

    ; Load calibre.skl or calibre.4.3.skl, not both!

    if( getShellEnvVar("MGC_CALIBRE_REALTIME_VIRTUOSO_ENABLED") && 
        getShellEnvVar("MGC_REALTIME_HOME") && dbGetDatabaseType()=="OpenAccess" then
      load(strcat(getShellEnvVar("MGC_REALTIME_HOME") "/lib/calibre.skl"))
    else
      ; Load calibre.skl for Cadence versions 4.4 and greater
      load(strcat(cal_home "/lib/calibre.skl"))
    )

    ;;;;Load calibre.4.3.skl for Cadence version 4.3
    ;;; load(strcat(cal_home "/lib/calibre.4.3.skl"))

else

    ; CALIBRE_HOME is not set correctly. Report the problem.

    printf("//  Calibre Error: Environment variable ")

    if( cal_home==nil || cal_home=="" then
        printf("CALIBRE_HOME is not set.");
    else
        if( !isDir(cal_home) then
            printf("CALIBRE_HOME does not point to a directory.");
        else
            if( !isReadable(cal_home) then
                printf("CALIBRE_HOME points to an unreadable directory.");
            )
        )
    )
    printf(" Calibre Skill Interface not loaded.\n")

    ; Display a dialog box message about load failure.

    hiDisplayAppDBox(
        ?name           'MGCHOMEErrorDlg
        ?dboxBanner     "Calibre Error"
        ?dboxText       "Calibre Skill Interface not loaded."
        ?dialogType     hicErrorDialog
        ?dialogStyle    'modal
       ?buttonLayout   'Close
    )
)

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


;#####################################################################
;#
;# Please add any customisations here....
;# NOT IN THE MAIN .cdsinit file. 
;#
;#####################################################################

envSetVal("asimenv.startup" "projectDir" 'string strcat("/tmp/" getShellEnvVar("USER") "/Sim"))
envSetVal("adexl.results" "saveResDir" 'string strcat("/tmp/" getShellEnvVar("USER") "/Res"))
envSetVal("adexl.results" "saveDir" 'string strcat("/tmp/" getShellEnvVar("USER") "/ADE_XL"))

let( ((MainPath "") (elem "") (LocalPath ""))

foreach( elem getSkillPath() MainPath = strcat(MainPath " " elem))

; add your local paths in this string
; ex: LocalPath = "/user/abo/artist/AMS_1.2/skill"
LocalPath = "" 
if( LocalPath!="" printf("ADDING YOUR SKILL LOCAL PATH -> %s.\n" LocalPath))
setSkillPath( strcat( LocalPath " " MainPath))

) ; let



;############################################################################
;#                                           
;# THE END! 
;#
;#############################################################################

if( !CDS_QUIET then printf("END OF LOCAL CUSTOMIZATION.\n"))
;END OF THE LOCAL CUSTOMIZATION FILE
